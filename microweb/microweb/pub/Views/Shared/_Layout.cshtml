<!DOCTYPE HTML>
<html>
<head>
    <meta charset="UTF-8">

    <meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no, width=device-width">

    <title>@ViewBag.Title</title>
    <link href="~/favicon.ico" rel="shortcut icon" type="image/x-icon" />
    @*<script type="text/javascript" src="http://api.map.baidu.com/api?v=2.0&ak=D645f58f16f9c64e3f47af0c80787036"></script>
    <script type="text/javascript" src="http://developer.baidu.com/map/jsdemo/demo/convertor.js"></script>
    <script src="http://res.wx.qq.com/open/js/jweixin-1.0.0.js" type="text/javascript"></script>*@
    @System.Web.Optimization.Styles.Render("~/Content/application.css")
    @System.Web.Optimization.Scripts.Render("~/Scripts/application.js")



    @Html.Partial("~/Views/ShopTemplates/_ErrorPageTpl.cshtml")
    @Html.Partial("~/Views/ShopTemplates/_HeaderTpl.cshtml")
    @Html.Partial("~/Views/ShopTemplates/_FooterTpl.cshtml")
    @Html.Partial("~/Views/ShopTemplates/_LoginTpl.cshtml")

    @Html.Partial("~/Views/ShopTemplates/_IndexCatalogTpl.cshtml")
    @Html.Partial("~/Views/ShopTemplates/_CategoryTpl.cshtml")
    @Html.Partial("~/Views/ShopTemplates/_ProductListTpl.cshtml")
    @Html.Partial("~/Views/ShopTemplates/_ProductDetailTpl.cshtml")
    @Html.Partial("~/Views/ShopTemplates/_MyCartTpl.cshtml")
    @Html.Partial("~/Views/ShopTemplates/_MyInfoTpl.cshtml")

    @Html.Partial("~/Views/ShopTemplates/_MakeOrderTpl.cshtml")
    @Html.Partial("~/Views/ShopTemplates/_MyOrderTpl.cshtml")
    @Html.Partial("~/Views/ShopTemplates/_OrderDetailTpl.cshtml")

    @Html.Partial("~/Views/ShopTemplates/_SearchListTpl.cshtml")
    @Html.Partial("~/Views/ShopTemplates/_AddressListTpl.cshtml")
    @Html.Partial("~/Views/ShopTemplates/_PaymentListTpl.cshtml")

    @Html.Partial("~/Views/ShopTemplates/_GenerateOrderTpl.cshtml")

    @Html.Partial("~/Views/ShopTemplates/_WeiXinPageTpl.cshtml")
    @Html.Partial("~/Views/ShopTemplates/_RankListTpl.cshtml")
    @Html.Partial("~/Views/ShopTemplates/_AppendAddressTpl.cshtml")
    @Html.Partial("~/Views/ShopTemplates/_AgentRegistTpl.cshtml")
    @Html.Partial("~/Views/ShopTemplates/_GetLostPassWordTpl.cshtml")
    @Html.Partial("~/Views/ShopTemplates/_MyInformationTpl.cshtml")
    @Html.Partial("~/Views/ShopTemplates/_MyNameTpl.cshtml")
    @Html.Partial("~/Views/ShopTemplates/_MySexTpl.cshtml")
    @Html.Partial("~/Views/ShopTemplates/_MySetUpTpl.cshtml")
    @Html.Partial("~/Views/ShopTemplates/_MyBusinessPassWordTpl.cshtml")
    @Html.Partial("~/Views/ShopTemplates/_MyLoginPassWordTpl.cshtml")
    @Html.Partial("~/Views/ShopTemplates/_MyAdvancePaymentTpl.cshtml")
    @Html.Partial("~/Views/ShopTemplates/_MyScoreDetailTpl.cshtml")
    @Html.Partial("~/Views/ShopTemplates/_MyCollectionTpl.cshtml")
    @Html.Partial("~/Views/ShopTemplates/_MyMessageTpl.cshtml")
    @Html.Partial("~/Views/ShopTemplates/_MyDisplayTpl.cshtml")
    @Html.Partial("~/Views/ShopTemplates/_ProductDisplayTpl.cshtml")
    @Html.Partial("~/Views/ShopTemplates/_MyRebateTpl.cshtml")
    @Html.Partial("~/Views/ShopTemplates/_DevelopMemberTpl.cshtml")
    @Html.Partial("~/Views/ShopTemplates/_QRCodeRegisterTpl.cshtml")
    @Html.Partial("~/Views/ShopTemplates/_ProductSearchTpl.cshtml")
    @Html.Partial("~/Views/ShopTemplates/_BrandListTpl.cshtml")

    @Html.Partial("~/Views/ShopTemplates/_ProductTypeListTpl.cshtml")    
    @Html.Partial("~/Views/ShopTemplates/_MyCashTpl.cshtml")

    @Html.Partial("~/Views/ShopTemplates/_MyCashBankTpl.cshtml")

    @Html.Partial("~/Views/ShopTemplates/_MyCashListTpl.cshtml")

    @Html.Partial("~/Views/ShopTemplates/_MyCashAddTpl.cshtml")

    @Html.Partial("~/Views/ShopTemplates/_MyCashEditTpl.cshtml")

    @Html.Partial("~/Views/ShopTemplates/_ProductEvaluateTpl.cshtml")

    @Html.Partial("~/Views/ShopTemplates/_MylogisticsTpl.cshtml")

    @Html.Partial("~/Views/ShopTemplates/_MyReturnMoneyDetailTpl.cshtml")

    @Html.Partial("~/Views/ShopTemplates/_MyReturnOrderTpl.cshtml")

    @Html.Partial("~/Views/ShopTemplates/_MyReturnGoodsDetailTpl.cshtml")

    @Html.Partial("~/Views/ShopTemplates/_MyReturnGoodsDetailAddressTpl.cshtml")

    @Html.Partial("~/Views/ShopTemplates/_MyRechargeTpl.cshtml")
</head>
<body>
    <script>
        //function ConfigLogin() {
        //    var login = false;
        //    var appId = "";
        //    var timestamp = "";
        //    var nonceStr = "";
        //    var signature = "";
        //    var url = stringToHex(window.location.href);
        //    $.ajax({
        //        url: "api/weixinshare/" + url,
        //        dataType: "json",
        //        async: false,
        //        success: function (parmenter) {
        //            if (parmenter != null && parmenter != "") {
        //                var arrPar = parmenter.split(',');
        //                var appId = arrPar[0];
        //                var timestamp = arrPar[1];
        //                var nonceStr = arrPar[2];
        //                var signature = arrPar[3];

        //                wx.config({
        //                    debug: true, // 开启调试模式,调用的所有api的返回值会在客户端alert出来，若要查看传入的参数，可以在pc端打开，参数信息会通过log打出，仅在pc端时才会打印。
        //                    appId: appId, // 必填，公众号的唯一标识
        //                    timestamp: timestamp, // 必填，生成签名的时间戳
        //                    nonceStr: nonceStr, // 必填，生成签名的随机串
        //                    signature: signature,// 必填，签名，见附录1
        //                    jsApiList: ['onMenuShareAppMessage', 'hideOptionMenu', 'showOptionMenu', 'getLocation'] // 必填，需要使用的JS接口列表，所有JS接口列表见附录2
        //                });
        //                login = true;
        //            }
        //        }
        //    });

        //    return login;
        //}

        //if (!ConfigLogin()) {
        //    alert('微信API注册失败');
        //}

        function MenuHide() {
            wx.ready(function () {
                wx.hideOptionMenu();
            });
        }

        function MenuShare() {
            wx.ready(function () {
                wx.showOptionMenu();
            });
        }
    </script>
	@Html.Hidden("hagentId", (string)ViewBag.agentId)
    <div id="jqt" data-role="page" class="wrapper"> 
        @RenderBody()
    </div>

    @*     <div class='loading'>
        <div>
            <img src="~/Content/Images/loading.gif"/>
            Loading...
        </div>
    </div>
<div class='ExpressDelivery' style="display: none;">
        <div class="iframe">
        </div>
        <div class="cabottom">
            <br />
            关闭查询</div>
    </div>

    <div class='AlipayDelivery' style="display: none;">
        <div class="header pad-t-6 Alipaycatop" style="text-align: left;">
            <span class="backButton"></span>返回
        </div>
        <div class="Alipayiframe">
        </div>
    </div>*@

    <div class="maskgrey1" style="display: none">
        <img src="/Content/Images/loading.gif">
        <p>请稍候,努力加载中......</p>
    </div>

    <script type="text/javascript">
        var page = new Page({ pageId: "Login" });
        var pageView = new PageView({ model: page });

        var pageRoute = new PageRoute();


        $('#jqt').ajaxError(function () {
            pageView.goTo('ErrorPage');
        }).ajaxStart(function () {
            //$('.maskgrey1').show(50);
        }).ajaxStop(function () {
            //$('.maskgrey1').hide(50);
        });

        Backbone.history.start();
    </script>
</body>
</html>
